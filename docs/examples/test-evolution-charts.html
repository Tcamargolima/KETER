<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KETER - Teste de Gr√°ficos de Evolu√ß√£o</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: linear-gradient(to bottom right, #0f172a, #581c87, #0f172a);
      min-height: 100vh;
    }
  </style>
</head>
<body class="p-8">
  <div id="root"></div>

  <script type="module">
    import React from 'https://esm.sh/react@18.2.0';
    import ReactDOM from 'https://esm.sh/react-dom@18.2.0/client';
    import { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, BarElement, ArcElement, Title, Tooltip, Legend, Filler } from 'https://esm.sh/chart.js@4.4.1';
    import { Line, Bar, Pie } from 'https://esm.sh/react-chartjs-2@5.2.0';

    // Register Chart.js components
    ChartJS.register(
      CategoryScale,
      LinearScale,
      PointElement,
      LineElement,
      BarElement,
      ArcElement,
      Title,
      Tooltip,
      Legend,
      Filler
    );

    // Mock data
    const mockData = {
      streakCalendar: {
        labels: Array.from({length: 30}, (_, i) => `${i+1}/02`),
        data: Array.from({length: 30}, () => Math.floor(Math.random() * 4))
      },
      moodEvolution: {
        labels: ['01/02', '05/02', '10/02', '15/02', '20/02', '25/02'],
        data: [6.5, 7.2, 6.8, 8.1, 7.5, 8.5],
        media: 7.4
      },
      progressByCategory: {
        labels: ['Medita√ß√£o', 'Gratid√£o', 'Bondade', 'Reflex√£o'],
        data: [15, 12, 20, 8],
        total: 55
      },
      aiPatterns: {
        labels: ['Ag√™ncia', 'Neutro/Balanceado', 'Vitimiza√ß√£o'],
        data: [65, 30, 5]
      }
    };

    const TestComponent = () => {
      const streakChartData = {
        labels: mockData.streakCalendar.labels,
        datasets: [{
          label: 'Atividades',
          data: mockData.streakCalendar.data,
          backgroundColor: mockData.streakCalendar.data.map(v => 
            v === 0 ? 'rgba(100, 116, 139, 0.3)' :
            v <= 1 ? 'rgba(147, 51, 234, 0.8)' :
            v <= 2 ? 'rgba(236, 72, 153, 0.8)' :
            'rgba(245, 158, 11, 0.8)'
          ),
          borderRadius: 4,
        }]
      };

      const moodChartData = {
        labels: mockData.moodEvolution.labels,
        datasets: [{
          label: 'Humor',
          data: mockData.moodEvolution.data,
          borderColor: '#ec4899',
          backgroundColor: 'rgba(236, 72, 153, 0.2)',
          fill: true,
          tension: 0.4
        }]
      };

      const categoryChartData = {
        labels: mockData.progressByCategory.labels,
        datasets: [{
          data: mockData.progressByCategory.data,
          backgroundColor: [
            'rgba(147, 51, 234, 0.8)',
            'rgba(236, 72, 153, 0.8)',
            'rgba(245, 158, 11, 0.8)',
            'rgba(100, 116, 139, 0.6)'
          ]
        }]
      };

      const aiChartData = {
        labels: mockData.aiPatterns.labels,
        datasets: [{
          data: mockData.aiPatterns.data,
          backgroundColor: [
            'rgba(245, 158, 11, 0.8)',
            'rgba(236, 72, 153, 0.8)',
            'rgba(147, 51, 234, 0.8)'
          ]
        }]
      };

      return React.createElement('div', { className: 'max-w-6xl mx-auto' },
        React.createElement('h1', { className: 'text-4xl font-bold text-white mb-8 text-center' },
          'üìä Gr√°ficos de Evolu√ß√£o - KETER'
        ),
        React.createElement('div', { className: 'grid grid-cols-1 lg:grid-cols-2 gap-6' },
          // Streak Calendar
          React.createElement('div', { className: 'bg-slate-800/50 rounded-xl p-6 border border-slate-700' },
            React.createElement('h3', { className: 'text-xl font-bold text-white mb-4' },
              'üìÖ Calend√°rio de Atividades'
            ),
            React.createElement('div', { style: { height: '300px' } },
              React.createElement(Bar, { data: streakChartData })
            )
          ),
          // Mood Evolution
          React.createElement('div', { className: 'bg-slate-800/50 rounded-xl p-6 border border-slate-700' },
            React.createElement('h3', { className: 'text-xl font-bold text-white mb-4' },
              'üíó Evolu√ß√£o do Humor'
            ),
            React.createElement('div', { style: { height: '300px' } },
              React.createElement(Line, { data: moodChartData })
            )
          ),
          // Category Progress
          React.createElement('div', { className: 'bg-slate-800/50 rounded-xl p-6 border border-slate-700' },
            React.createElement('h3', { className: 'text-xl font-bold text-white mb-4' },
              'üéØ Progresso por Categoria'
            ),
            React.createElement('div', { style: { height: '300px' } },
              React.createElement(Pie, { data: categoryChartData })
            )
          ),
          // AI Patterns
          React.createElement('div', { className: 'bg-slate-800/50 rounded-xl p-6 border border-slate-700' },
            React.createElement('h3', { className: 'text-xl font-bold text-white mb-4' },
              'üß† Padr√µes Detectados pela IA'
            ),
            React.createElement('div', { style: { height: '300px' } },
              React.createElement(Pie, { data: aiChartData })
            )
          )
        )
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(React.createElement(TestComponent));
  </script>
</body>
</html>
